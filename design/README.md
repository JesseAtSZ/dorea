# DoreaDB Design

> 关于 `DoreaDB` 设计时的一些构思。

## 最大索引数量

这是一个及其难控制的系统，因为我们的数据库需要一套合理的缓存淘汰机制，而且淘汰数据索引需要以 `Group 数据库` 作为对象。
也就是说当内存满了之后，我们不能单单淘汰最不常使用的那个键（根据LRU淘汰算法），而是要淘汰最不常使用的那一整个数据库。
所以说索引数的管理是非常重要的，目前打算进行的设计是：单个数据库能有键数占最大总支持大小的五分之一，即最大为102400时，单个库最多20480；

索引系统会自动根据使用状态进行管理，并自动清除长期未使用的数据库。